<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>maat: Multiple Administrations Adaptive Testing • maat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="maat: Multiple Administrations Adaptive Testing">
<meta property="og:description" content="maat">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">maat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/maat.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/choi-phd/maat/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="maat_files/header-attrs-2.8/header-attrs.js"></script><script src="maat_files/kePrint-0.0.1/kePrint.js"></script><link href="maat_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>maat: Multiple Administrations Adaptive Testing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/choi-phd/maat/blob/master/vignettes/maat.Rmd"><code>vignettes/maat.Rmd</code></a></small>
      <div class="hidden name"><code>maat.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The <strong>maat</strong> package performs adaptive testing based on the Through-Year DMST design. The Through-Year DMST design is a longitudinal extension of the Dynamic Multi-Stage Test (DMST) design. The DMST design presents each module as an adaptive test assembled dynamically or on the fly, based on test blueprint constraints and interim ability estimates in real time. In addition, the Through-Year extension also provides adaptivity across multiple administrations of an assessment throughout the year.</p>
<p>The Through-Year DMST design in <strong>maat</strong> package uses an assessment with three administrations (Fall, Winter, and Spring) with two phases within each administration (Phase 1 and Phase 2), so that a student takes six modules in total.</p>
</div>
<div id="assessment-structure" class="section level1">
<h1 class="hasAnchor">
<a href="#assessment-structure" class="anchor"></a>Assessment Structure</h1>
<p><img src="assessment.png" width="900px"></p>
<p>An assessment under the Through-Year DMST design has the following structure.</p>
<ul>
<li>
<strong>Assessment</strong>: An assessment is composed of three administrations (Fall, Winter, and Spring).</li>
<li>
<strong>Administration(Test)</strong>: Each administration is composed of two phases (Phase 1, Phase 2).</li>
<li>
<strong>Phase</strong>: Each phase has its own item pool and content constraints to be used in assembly.</li>
<li>
<strong>Module</strong>: Three administrations * two phases give six modules in total.
<ul>
<li>A student takes six modules in the entire assessment.</li>
<li>In each module, a fixed-length adaptive test is assembled in real time.</li>
</ul>
</li>
<li>
<strong>Number of item pools required for the entire assessment</strong>
<ul>
<li>For the entire assessment, an item pool is required for each grade and each phase. For example, if the range that a student can be routed is Grades 1-5, then a total of 10 item pools are required for the entire assessment.</li>
<li>Assuming the student remains on the same grade, Fall Phase 1, Winter Phase 1, Spring Phase 1 all use the same item pool and constraints for assembly. The same holds for Fall Phase 2, Winter Phase 2, and Spring Phase 2.</li>
</ul>
</li>
<li>
<strong>Routing policy</strong>: Based on a routing policy, students are routed to a grade level after completing each module.</li>
</ul>
</div>
<div id="assumptions" class="section level1">
<h1 class="hasAnchor">
<a href="#assumptions" class="anchor"></a>Assumptions</h1>
<p>Several assumptions are made to support the Through-Year DMST design.</p>
<ul>
<li>
<strong>Item Pool</strong>:
<ul>
<li>The set of reporting domains (e.g., Geometry, Algebra) are shared across grades.</li>
<li>Items in the item pools across grades are vertically scaled and articulated. For all <span class="math inline">\(G\)</span>,
<ul>
<li>The mean item difficulty of grade <span class="math inline">\(G-1\)</span> pool is lower than grade <span class="math inline">\(G\)</span> pool.</li>
<li>The minimum item difficulty of grade <span class="math inline">\(G-1\)</span> pool is lower than grade <span class="math inline">\(G\)</span> pool.</li>
<li>The maximum item difficulty of grade <span class="math inline">\(G-1\)</span> pool is lower than grade <span class="math inline">\(G\)</span> pool.</li>
</ul>
</li>
<li>Item parameters from Phase 1 and Phase 2 are on the same metric, and thus can be combined to develop a single MLE ability estimate of the student.</li>
<li>Domain scores are computed based on item scores from Phase 1 and Phase 2 combined as the final, domain level reporting category subscores.</li>
<li>The vertical scale is robust and well-articulated across the grades.</li>
</ul>
</li>
<li>
<strong>Module assembly</strong>:
<ul>
<li>Student-level item overlap control is enforced across phases and administrations (but not across years – the simulation will be limited to one year).</li>
<li>The starting theta of the first module (Fall Phase 1) is the mean item pool difficulty of the grade of record. The same starting theta is used for all students.</li>
<li>Throughout the assembly process, no distinction is made between the ability estimate and the target <span class="math inline">\(\theta\)</span> that is used to assemble tests. The ability estimate is always used as the target <span class="math inline">\(\theta\)</span> for the assembly.</li>
</ul>
</li>
</ul>
</div>
<div id="module-assembly" class="section level1">
<h1 class="hasAnchor">
<a href="#module-assembly" class="anchor"></a>Module Assembly</h1>
<p>This section describes how a single module is assembled.</p>
<div id="content-balancing-algorithm" class="section level2">
<h2 class="hasAnchor">
<a href="#content-balancing-algorithm" class="anchor"></a>Content Balancing Algorithm</h2>
<p>The shadow-test approach to CAT <span class="citation"><a href="#ref-choi_ensuring_2018" role="doc-biblioref">Choi &amp; van der Linden</a> (<a href="#ref-choi_ensuring_2018" role="doc-biblioref">2018</a>)</span> was developed to balance the test content across examinees. The shadow-test approach uses the methodology of mixed-integer programming (MIP) to simultaneously select a full set of items conforming to all content constraints and yet optimal (most informative).</p>
<p>Given the item pool and test specifications/constraints, the shadow-test approach to CAT assembles a full-length test form, called a shadow test, using MIP for each item position upon updating interim <span class="math inline">\(\theta\)</span> estimates, <span class="math inline">\(\theta_{k}\)</span>, <span class="math inline">\(k = 1,2,...,n\)</span>, where <span class="math inline">\(n\)</span> is the test length. The optimal test assembly engine uses MIP to construct shadow tests optimized for the interim <span class="math inline">\(\theta\)</span> estimates and conforming to all specifications and requirements, encompassing content constraints, exposure control, and other practical constraints. The cycle is repeated until the intended test length <span class="math inline">\(n\)</span> has been reached.</p>
<p>The methods by which the shadow-test approach formulate test assembly problems as constrained combinatorial optimization have been documented in <span class="citation">(<a href="#ref-van_der_linden_linear_2005" role="doc-biblioref">van der Linden, 2005</a>)</span> and implemented in the  package. Refer to <span class="citation">(<a href="#ref-choi_ensuring_2018" role="doc-biblioref">Choi &amp; van der Linden, 2018</a>)</span> for more information about how the shadow-test approach creates an adaptive test as a sequence of optimally constructed full-length tests.</p>
</div>
<div id="item-selection-criteria" class="section level2">
<h2 class="hasAnchor">
<a href="#item-selection-criteria" class="anchor"></a>Item Selection Criteria</h2>
<p>A standard procedure for choosing a shadow test (for a given examinee at a particular item position) among potentially an astronomical number of alternatives is to compare the objective values provided by the alternatives. The common objective function in its simplest form is:</p>
<p><span class="math display">\[
\text{maximize}
\sum_{i\,=\,1}^{I}
I_{i}(\hat{\theta})x_{i}
\]</span></p>
<p>where <span class="math inline">\(I_{i}(\hat{\theta})\)</span> is the Fisher information for Item <span class="math inline">\(i\)</span> at an estimated <span class="math inline">\(\theta\)</span> value. It is also possible to add a random component to the objective function to reduce the overexposure of highly informative items for some or all item positions within a test. For example, the progressive method <span class="citation">(<a href="#ref-revuelta_comparison_1998" role="doc-biblioref">Revuelta &amp; Ponsoda, 1998</a>)</span> can be incorporated into the objective function so that at the beginning of the test the objective function combines a random component with item information and as the test progresses the random component is reduced proportionately. Upon constructing/updating a shadow test, a single item is selected to be administered. Selecting an item from a shadow test is typically done by selecting the most informative item in the shadow test that has not been administered, as</p>
<p><span class="math display">\[
\text{arg} \max_{i\,\in\,R}
I_{i}(\hat{\theta})
\]</span></p>
<p>where <span class="math inline">\(R\)</span> indicates the set of items in the current shadow test that has not been administered to the examinee. When the test is comprised of item sets (e.g., reading passages), selecting a passage should precede selecting an item, which can be based on the average item information within each passage. Once a passage is selected, typically multiple items are selected before moving on to another passage.</p>
</div>
<div id="how-passages-are-selected" class="section level2">
<h2 class="hasAnchor">
<a href="#how-passages-are-selected" class="anchor"></a>How Passages Are Selected</h2>
<p>In the MIP optimizer, passages are selected not directly but as a result of attempting to satisfy constraints. Given an item pool that has <span class="math inline">\(I\)</span> items, a discrete assembly problem (i.e., not passage-based) uses <span class="math inline">\(I\)</span> decision variables that represent each item in the pool. In a passage-based assembly that has <span class="math inline">\(S\)</span> available passages in the pool, <span class="math inline">\(S\)</span> more decision variables are added to existing <span class="math inline">\(I\)</span> decision variables. The nested structure between items and passages is provided to the solver through the use of constraints.</p>
<p>Using the same information maximization criteria presented above, a shadow-test that satisfies the criteria and the constraints is assembled for the administration of each item. From the shadow-test, the passage to be administered to the student is determined using the following process.</p>
<p>First, if the student is currently not within a passage, the passage that has the largest mean information at the current <span class="math inline">\(\hat{\theta}\)</span> is selected as the passage to be administered. The mean information is calculated from the shadow test. For example, suppose that Passage 1 consists of Items 1, 2, 3, 4, 5, and only Items 1, 2, 3 were included in the shadow test. In this case, the mean information of Passage 1 is computed from Items 1, 2, 3. After selecting a passage with the highest mean information, the item within the passage that has the largest information at the current <span class="math inline">\(\hat{\theta}\)</span> is administered to the student. This marks the passage as the currently active passage.</p>
<p>For the next shadow test, previously administered items and passages, and the currently active passage that contains the item is enforced to be selected in the assembly. In this step, for the currently active passage, a different combination of items may be selected in the shadow test. For example, suppose that Passage 1 consists of Items 1, 2, 3, 4, 5, and the constraint is to administer 3 items for each passage. If previously Items 1, 2, 3 were selected and Item 1 was administered, it is possible that Items 1, 3, 5 will be selected in the current shadow test. Given the combination, either Item 3 or 5 will be administered to the student depending on which item has the largest information.</p>
</div>
<div id="exposure-control" class="section level2">
<h2 class="hasAnchor">
<a href="#exposure-control" class="anchor"></a>Exposure Control</h2>
<p>The maximum-information item-selection criterion causes overexposure of a small proportion of items while underexposing the rest. The shadow-test approach mitigates the problem by adding random item eligibility constraints to the test-assembly model so that item with higher exposure rates have higher probabilities of being temporarily ineligible. The <code>TestDesign</code> package implements the conditional item eligibility control method recently improved and extended <span class="citation">(<a href="#ref-van_der_linden_improving_2019" role="doc-biblioref">van der Linden &amp; Choi, 2019</a>)</span>. For each examinee the <code>TestDesign</code> engine determines which items to constrain as temporarily ineligible from the item pool for the examinees. The engine can also monitor the probabilities of ineligibility for all items conditional on different theta levels such that the exposure rates for all items in the pool are tightly controlled within and across different theta segments (intervals) and bound below a maximum exposure rate set <em>a priori</em> (e.g., <span class="math inline">\(r^{\max}=0.25\)</span>).</p>
<p>More specifically, for each new examinee, prior to the administration of the test, the item eligibility control method conducts Bernoulli experiments (by theta segment) for the items in the pool to determine their eligibility for administration with probabilities updated as a function of the actual exposure rates of the items. For any items determined to be ineligible additional constraints are included in the test assembly model as follows:</p>
<p><span class="math display">\[
\sum_{i\,\in\,V}{x_i} = 0
\]</span></p>
<p>where <span class="math inline">\(x_i\)</span> is the binary decision variable for the selection of item <span class="math inline">\(i\)</span>; and <span class="math inline">\(V\)</span> denotes the set of items determined to be ineligible for the current examinee.</p>
<p>The conditional item eligibility method monitors and updates the probabilities within a predetermined set of theta segments, e.g., <span class="math inline">\(\theta_1 \in [-\infty,-1.5), \theta_2 \in [-1.5,-.5), ..., \theta_G \in (1.5, \infty]\)</span>. The conditional item-eligibility probabilities are represented as a recurrence relationship as follows:</p>
<p><span class="math display">\[
\text{Pr}\{E_i | \theta\}
\leq
\frac{r^{\max}}
{\text{Pr}\{A_i | \theta\}}
\text{Pr}\{E_i | \theta\}
\]</span></p>
<p>where <span class="math inline">\(\text{Pr}\{E_i | \theta\}\)</span> is the conditional eligibility probability for item <span class="math inline">\(i\)</span> given <span class="math inline">\(\theta \in \theta_g\)</span>; and <span class="math inline">\(\text{Pr}\{A_i | \theta\}\)</span> is the conditional exposure probability (rate) for the item. Theoretically, <span class="math inline">\(\text{Pr}\{A_i | \theta\}\)</span> can be updated continuously as each examinee finishes the test. Assuming <span class="math inline">\(l = 1,2,\dots\)</span> denote the sequence of examinees taking the test. The conditional item-eligibility probabilities can be updated continuously as:</p>
<p><span class="math display">\[
\text{Pr}^{l+1}{E_{i}|\theta} = \min
  \bigg\{
    \frac{r^{\max}}
    {\text{Pr}^{l}{A_{i}|\theta}}
    \text{Pr}^{l}{E_{i}|\theta}, 1
  \bigg\}
\]</span></p>
<p>However, in the context of a large number of concurrent test instances updating the exposure counts in real time after each instance can be difficult and perhaps not necessary. One complication with the conditional item eligibility control method is that as the test progresses examinees may move in and out of segments and can be subject to different sets of eligible items as they typically visit more than one theta segment. <span class="citation">(<a href="#ref-van_der_linden_improving_2019" role="doc-biblioref">van der Linden &amp; Choi, 2019</a>)</span> elaborates the issue and provides a workaround. Unconditional exposure control is much more straightforward to implement and can be preferred in many testing situations. The <code>TestDesign</code> package implements the conditional item eligibility control method based on configurable <span class="math inline">\(\theta\)</span> segments. Defining one big segment of <span class="math inline">\(\theta\)</span> simplifies the method to the unconditional case.</p>
</div>
<div id="overlap-control" class="section level2">
<h2 class="hasAnchor">
<a href="#overlap-control" class="anchor"></a>Overlap Control</h2>
<p>Overlap control might be needed to prevent or reduce the intra-individual overlap in test content across administrations. The item eligibility control method can be used to make all items previously seen by the examinee ineligible for the current administration by imposing constraints similarly as</p>
<p><span class="math display">\[
\sum_{i\,\in\,S_{j}}{x_{i}} = 0
\]</span></p>
<p>where <span class="math inline">\(s_j\)</span> denotes the set of items Examinee <span class="math inline">\(j\)</span> has seen prior to the current administration. Imposing these hard constraints can unduly limit the item pool and potentially affect the quality of measurement. To avoid infeasibility and degradation of measurement, we can impose soft constraints in the form of a modification to the maximum information objective function as</p>
<p><span class="math display">\[
\text{maximize}
  \sum_{i\,=\,1}^{I}I_{i}{(\theta) x_{i}}
  \, – \,
  M \sum_{i\,\in\,s_{j}}{x_{i}}
\]</span></p>
<p>where <span class="math inline">\(M\)</span> is a penalty for selecting an item from <span class="math inline">\(s_j\)</span> the subset of items previously administered to Examinee <span class="math inline">\(j\)</span>. This modification to the objective function can effectively deter the selection of previously administered items unless absolutely necessary for feasibility of the model.</p>
<p>Although the same item eligibility constraints for inter-individual exposure control can be used to control intra-individual item exposure, the mechanism for identifying ineligible items for the intra-individual exposure control is quite different. It requires tracking the examinee records across test administrations, which may be days, weeks, or months apart. As the number of administrations increases, the ineligible item set (<span class="math inline">\(s_j\)</span>) can grow quickly and adversely affect the quality of measurement progressively. To prevent the ineligible item set from growing quickly, <span class="math inline">\(s_j\)</span> may need to be defined based only on the immediately preceding test administration.</p>
<p>The <strong>maat</strong> package uses hard constraints to perform overlap control. Three options are available:</p>
<ul>
<li>
<code>all</code>: If a student sees an item, then the item is excluded from shadow tests in all following modules. For example, if a student sees an item in Phase 1 Administration 1, then the item is excluded in Phase 2 Administration 1 and all subsequent phases and administrations. In passage-based assembly, if a student sees at least one item from a passage, then the passage is excluded from shadow tests in all following modules.</li>
<li>
<code>within-test</code>: If a student sees an item, then the item is excluded from shadow tests in following phases within current administration. The item is again made available in following administrations. For example, if a student sees an item in Phase 1 Administration 1, then the item is excluded in Phase 2 Administration 1 but is made available in Phase 1 Administration 2. Similar is done for passage-based assembly.</li>
<li>
<code>none</code>: A student can see any item twice in any phases and administrations. For example, if a student sees an item in Phase 1 Administration 1, the student can see the same item in Phase 2 Administration 1.</li>
</ul>
</div>
<div id="stopping-rule" class="section level2">
<h2 class="hasAnchor">
<a href="#stopping-rule" class="anchor"></a>Stopping Rule</h2>
<p>The stopping rule describes the criteria used to terminate a CAT. The stopping rule is based on the number of overall required points and the total number of items denoted in the constraint file.</p>
</div>
<div id="ability-estimation" class="section level2">
<h2 class="hasAnchor">
<a href="#ability-estimation" class="anchor"></a>Ability Estimation</h2>
<p>The <strong>maat</strong> package supports MLE and MLEF in the <code>TestDesign</code> package for <span class="math inline">\(\theta\)</span> estimation. The estimation method must be specified in <code><a href="https://choi-phd.github.io/TestDesign/reference/createShadowTestConfig.html">createShadowTestConfig()</a></code>.</p>
<p>The MLE and MLEF methods in <code>TestDesign</code> has extra fallback routines for performing CAT:</p>
<ul>
<li>For MLE, if the response vector is extreme (i.e., the sum is 0 or the maximum for all items), EAP is used instead of MLE to obtain the <span class="math inline">\(\theta\)</span> estimate. This is because MLE estimates for extreme vectors is either <span class="math inline">\(-\infty\)</span> or <span class="math inline">\(+\infty\)</span>.</li>
<li>For MLEF, the two fence items are only added when the response vector is extreme. If the response vector is not extreme, a regular MLE is performed without any fence items. The purpose of this routine is to reduce the computation time spent in augmenting extra items.</li>
</ul>
<p>In a <code><a href="../reference/maat.html">maat()</a></code> simulation, two types of ability estimates are obtained after completing each module.</p>
<ul>
<li>The <strong>Phase-wise</strong> estimate is obtained by only using the response from the current module. For example, after completing Phase 2 Administration 1 which had 20 items, the phase-wise estimate is computed from a 20-item response vector.</li>
<li>The <strong>Administration-wise</strong> estimate is obtained by using the response from the all modules in the current administration. For example, after completing Phase 2 Administration 2 which had 20 items, and the Phase 1 Administration 2 had 10 items, the administration-wise estimate is computed from 30 items. This is always performed regardless of the <code>combine_policy</code> option in <code><a href="../reference/maat.html">maat()</a></code>. The <code>combine_policy</code> option is implemented in a way that it selects which type of estimate to use for routing, after computing both phase-wise and administration-wise estimates.</li>
</ul>
<p>In each module, the initial estimate that is in place before administering the first item in the model, is the final routing estimate from the previous module. The initial estimates can be manually specified for each examinee and for each module by supplying a list to the <code>initial_theta_list</code> argument in <code><a href="../reference/maat.html">maat()</a></code>. The list must be accessible using <code>initial_theta_list[[module_index]][[examinee_id]]</code>. In the example assessment structure in this document, <code>module_index</code> ranges from 1 to 6. The value of <code>examinee_id</code> is a string that is used in the <code>examinee_list</code> object.</p>
</div>
</div>
<div id="routing-policy" class="section level1">
<h1 class="hasAnchor">
<a href="#routing-policy" class="anchor"></a>Routing Policy</h1>
<p>Transitioning between phases (phases) and between tests are governed by the rules described in this section. These so-called transition rules are generally based on theta estimates (and confidence intervals) and the cut-scores defining the performance levels for each grade. There are also restrictions that override the rules. Two routing rules are implemented in the <strong>maat</strong> package: Confidence Interval Approach and Difficulty Percentile Approach.</p>
<div id="cut-scores" class="section level2">
<h2 class="hasAnchor">
<a href="#cut-scores" class="anchor"></a>Cut Scores</h2>
<p>For the Through-Year DMST, cut scores for achievement levels must be defined to be able to perform routing between grades. For example, if there are four achievement levels (e.g., Beginning, Developing, Proficient, and Advanced), then three cut scores are necessary for each grade.</p>
</div>
<div id="routing-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#routing-structure" class="anchor"></a>Routing Structure</h2>
<p>Routing is performed between each module. For example, routing is performed between Fall Phase 1 and Fall Phase 2, and also between Fall Phase 2 and Winter Phase 1. Because a student takes 6 modules in total, routing is performed 5 times for the student throughout the entire assessment.</p>
<p>The routing structure is now described. Let <span class="math inline">\(G\)</span> denote the grade of record of a single student.</p>
<ul>
<li><p>All students begin at grade <span class="math inline">\(G\)</span>, the grade of record.</p></li>
<li>
<p>After completing a module, a routing theta is determined. The routing theta is used to:</p>
<ul>
<li>Determine the achievement level using cut scores</li>
<li>Perform routing depending on the achievement level</li>
<li>Use as starting theta in the next module</li>
</ul>
</li>
<li>
<p>Different types of <span class="math inline">\(\theta\)</span> estimates are used for the routing theta.</p>
<ul>
<li>
<span class="math inline">\(\theta_{1}\)</span> is an estimate based on Phase 1 items only.</li>
<li>
<span class="math inline">\(\theta_{2}\)</span> is an estimate based on Phase 2 items only.</li>
<li>
<span class="math inline">\(\theta_{1+2}\)</span> is an estimate based on the combined set of Phase 1 and Phase 2 items.</li>
</ul>
</li>
<li><p>In each administration, after completing Phase 1, <span class="math inline">\(\theta_1\)</span> is used as the routing theta for the following module.</p></li>
<li>
<p>In each administration, after completing Phase 2, the ability estimate from the current <em>administration</em> is used as the routing theta. This is either <span class="math inline">\(\theta_2\)</span> or <span class="math inline">\(\theta_{1+2}\)</span> depending on the combine policy.</p>
<ul>
<li>If combine policy is <code>always</code>, then <span class="math inline">\(\theta_{1+2}\)</span> is used as the routing theta.</li>
<li>If combine policy is <code>never</code>, then <span class="math inline">\(\theta_2\)</span> is used as the routing theta.</li>
<li>If combine policy is <code>conditional</code>:
<ul>
<li>If the student was in the same grade in Phase 1 and 2, then <span class="math inline">\(\theta_{1+2}\)</span> is used as the routing theta.</li>
<li>Else, then <span class="math inline">\(\theta_2\)</span> is used as the routing theta.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Using the routing theta and the cut scores, the achievement level is determined. The achievement level is either:</p>
<ul>
<li>Advanced</li>
<li>Proficient-developing
<ul>
<li>In <strong>maat</strong> package, no distinction is made between Proficient and Developing.</li>
</ul>
</li>
<li>Beginning</li>
</ul>
</li>
<li>
<p>Using the achievement level, routing is performed:</p>
<ul>
<li>Advanced: change grade by <span class="math inline">\(+1\)</span>.</li>
<li>Proficient-developing: change grade by <span class="math inline">\(0\)</span>.</li>
<li>Beginning: change grade by <span class="math inline">\(-1\)</span>.</li>
</ul>
</li>
<li>
<p>There are four restrictions on the routing rule.</p>
<ul>
<li>
<strong>Restriction R0</strong>: Only allow routing within <span class="math inline">\([G - b_L, G + b_U]\)</span>, where <span class="math inline">\(b_L\)</span> and <span class="math inline">\(b_U\)</span> are lower and upper bounds. The default lower bound is <span class="math inline">\(b_L = 1\)</span> and the upper bound is <span class="math inline">\(b_U = 2\)</span>.</li>
<li>
<strong>Restriction R1</strong>: If grade is <span class="math inline">\(G - 1\)</span> in Phase 2 of any administration, ignore achievement level and always change grade by <span class="math inline">\(+1\)</span>.</li>
<li>
<strong>Restriction R2</strong>: If grade is <span class="math inline">\(G\)</span> in Phase 2 of any administration:
<ul>
<li>If achievement level is Beginning, change grade by <span class="math inline">\(0\)</span>.</li>
</ul>
</li>
<li>
<strong>Restriction R3</strong>: If grade is <span class="math inline">\(G + k\)</span> in Phase 2 of Administration <span class="math inline">\(k\)</span>:
<ul>
<li>If achievement level is Advanced, change grade by <span class="math inline">\(0\)</span>.</li>
</ul>
</li>
</ul>
</li>
<li><p>As a result of these restrictions, a student can be routed to <span class="math inline">\(G - 1\)</span> at a minimum and <span class="math inline">\(G + 2\)</span> at a maximum. For example, a <span class="math inline">\(G = 4\)</span> student can be potentially routed to grades 3-6. A <span class="math inline">\(G = 4\)</span> student can never be routed to grades 7 and above in any module.</p></li>
</ul>
</div>
<div id="routing-sturcture-diagram" class="section level2">
<h2 class="hasAnchor">
<a href="#routing-sturcture-diagram" class="anchor"></a>Routing Sturcture Diagram</h2>
<div id="test-1-to-2" class="section level3">
<h3 class="hasAnchor">
<a href="#test-1-to-2" class="anchor"></a>Test 1 to 2</h3>
<p><img src="routing_T1T2.png" width="900px"></p>
<ul>
<li>Restrictions R1, R2, R3 are in place.</li>
</ul>
</div>
<div id="test-2-to-3" class="section level3">
<h3 class="hasAnchor">
<a href="#test-2-to-3" class="anchor"></a>Test 2 to 3</h3>
<p><img src="routing_T2T3.png" width="900px"></p>
<ul>
<li>Restrictions R0, R1, R2, R3 are in place. The routing path for Phase 2 Grade <span class="math inline">\(G+2\)</span> for “Advanced” achievement level results from applying either R0 or R3.</li>
</ul>
</div>
<div id="test-3" class="section level3">
<h3 class="hasAnchor">
<a href="#test-3" class="anchor"></a>Test 3</h3>
<p><img src="routing_T3.png" width="900px"></p>
<ul>
<li>Restriction R0 is in place.</li>
</ul>
</div>
</div>
<div id="confidence-interval-routing" class="section level2">
<h2 class="hasAnchor">
<a href="#confidence-interval-routing" class="anchor"></a>Confidence Interval Routing</h2>
<p>The student is routed based on the performance in each phase. The performance is quantified not as a point estimate of <span class="math inline">\(\theta\)</span>, but as a confidence interval. The confidence interval approach <span class="citation"><a href="#ref-eggen_computerized_2000" role="doc-biblioref">Eggen &amp; Straetmans</a> (<a href="#ref-eggen_computerized_2000" role="doc-biblioref">2000</a>)</span> can be used with MLE scoring <span class="citation">(<a href="#ref-yang_effects_2006" role="doc-biblioref">Yang et al., 2006</a>)</span> and can easily extended to multiple cut scores <span class="citation">(<a href="#ref-thompson_practitioners_2007" role="doc-biblioref">Thompson, 2007</a>)</span>.</p>
<p>In the confidence interval approach, the lower and upper boundaries of the routing theta is computed as</p>
<p><span class="math display">\[\hat{\theta_{L}} = \hat{\theta} - z_{\alpha} * SE(\theta)\]</span> <span class="math display">\[\hat{\theta_{U}} = \hat{\theta} + z_{\alpha} * SE(\theta)\]</span></p>
<p>where <span class="math inline">\(z_{\alpha}\)</span> is the normal deviate corresponding to a <span class="math inline">\(1 - \alpha\)</span> confidence interval, <span class="math inline">\(\hat{\theta}\)</span> is the routing theta, and <span class="math inline">\(\hat{\theta_{L}}\)</span> and <span class="math inline">\(\hat{\theta_{U}}\)</span> are lower and upper boundary thetas.</p>
<p>Once boundary values are calculated, <span class="math inline">\(\hat{\theta_{L}}\)</span> and <span class="math inline">\(\hat{\theta_{U}}\)</span> are used to identify the achievement level of the student as:</p>
<ul>
<li>If <span class="math inline">\(\hat{\theta_{U}} &lt; \tau_1\)</span>, where is <span class="math inline">\(\tau_1\)</span> is the first cut score that separates Beginning and Proficient-Developing levels, the achievement level is determined as Beginning.</li>
<li>
<span class="math inline">\(\tau_2\)</span>, the second cut score that separates Developing and Proficient levels, is ignored.</li>
<li>If <span class="math inline">\(\hat{\theta_{L}} &gt; \tau_3\)</span>, where is <span class="math inline">\(\tau_3\)</span> is the third cut score that separates Proficient-Developing and Advanced levels, the achievement level is determined as Advanced.</li>
<li>If neither holds, then the achievement level is determined as Proficient-Developing.</li>
</ul>
</div>
<div id="difficulty-percentile-routing" class="section level2">
<h2 class="hasAnchor">
<a href="#difficulty-percentile-routing" class="anchor"></a>Difficulty Percentile Routing</h2>
<p>In difficulty percentile routing, presupplied cut scores are ignored. Instead, cut scores are determined based on item difficulty parameters of the current item pool for the module.</p>
<ul>
<li>
<span class="math inline">\(\tau_1\)</span>, the first cut score, is calculated as <span class="math inline">\(p\)</span>-th percentile value of item difficulty parameters.</li>
<li>
<span class="math inline">\(\tau_2\)</span>, the second cut score that separates Developing and Proficient levels, is ignored.</li>
<li>
<span class="math inline">\(\tau_3\)</span>, the third cut score, is calculated as <span class="math inline">\(100-p\)</span>-th percentile value of item difficulty parameters.</li>
</ul>
<p>Once cut scores are calculated, the routing theta <span class="math inline">\(\hat{\theta}\)</span> is used to identify the achievement level of the student as:</p>
<ul>
<li>If <span class="math inline">\(\hat{\theta} &lt; \tau_1\)</span>, where is <span class="math inline">\(\tau_1\)</span> is the first cut score that separates Beginning and Proficient-Developing levels, the achievement level is determined as Beginning.</li>
<li>
<span class="math inline">\(\tau_2\)</span>, the second cut score that separates Developing and Proficient levels, is ignored.</li>
<li>If <span class="math inline">\(\hat{\theta} &gt; \tau_3\)</span>, where is <span class="math inline">\(\tau_3\)</span> is the third cut score that separates Proficient-Developing and Advanced levels, the achievement level is determined as Advanced.</li>
<li>If neither holds, then the achievement level is determined as Proficient-Developing.</li>
</ul>
</div>
</div>
<div id="using-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#using-the-package" class="anchor"></a>Using the package</h1>
<p>This section explains how to use <strong>maat</strong> package.</p>
<div id="create-assessment-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#create-assessment-structure" class="anchor"></a>Create assessment structure</h2>
<p>The first step is to define the assessment structure using <code><a href="../reference/createAssessmentStructure.html">createAssessmentStructure()</a></code>. Here, we use 3 tests with 2 phases in each test. Route limits are specified to 1 below and 2 above to match the assessment structure diagram shown above.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">assessment_structure</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createAssessmentStructure.html">createAssessmentStructure</a></span><span class="op">(</span>
  n_test  <span class="op">=</span> <span class="fl">3</span>,
  n_phase <span class="op">=</span> <span class="fl">2</span>,
  route_limit_below <span class="op">=</span> <span class="fl">1</span>,
  route_limit_above <span class="op">=</span> <span class="fl">2</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="create-an-examinee-list" class="section level2">
<h2 class="hasAnchor">
<a href="#create-an-examinee-list" class="anchor"></a>Create an examinee list</h2>
<p>The next step is to create an examinee list using <code><a href="../reference/simExaminees.html">simExaminees()</a></code>. An example is given below:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cor_v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">.8</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">cor_v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span>

<span class="va">examinee_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simExaminees.html">simExaminees</a></span><span class="op">(</span>
  N <span class="op">=</span> <span class="fl">10</span>,
  mean_v <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
  sd_v   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,
  cor_v  <span class="op">=</span> <span class="va">cor_v</span>,
  assessment_structure <span class="op">=</span> <span class="va">assessment_structure</span>,
  initial_grade <span class="op">=</span> <span class="st">"G4"</span>,
  initial_phase <span class="op">=</span> <span class="st">"P1"</span>,
  initial_test  <span class="op">=</span> <span class="st">"T1"</span>
<span class="op">)</span></code></pre></div>
<p>Each argument is used as below:</p>
<ul>
<li>
<code>N</code> is the number of examinees to simulate.</li>
<li>
<code>mean_v</code> is the mean theta to use in generating <span class="math inline">\(\theta\)</span> values. This must be a three value vector, each corresponding to each administration.</li>
<li>
<code>sd_v</code> is the standard deviation to use in generating <span class="math inline">\(\theta\)</span> values. This must be a three value vector, each corresponding to each administration.</li>
<li>
<code>cor_v</code> is the correlation structure to use in generating <span class="math inline">\(\theta\)</span> values. This must be a 3*3 matrix, each dimension corresponding to each administration.</li>
<li>
<code>assessment_structure</code> is the assessment structure object created previously using <code><a href="../reference/createAssessmentStructure.html">createAssessmentStructure()</a></code>.</li>
<li>
<code>initial_grade</code> is the grade of record to use for all examinees. This must be in the format <code>G?</code>, where <code><a href="https://rdrr.io/r/utils/Question.html">?</a></code> is a number.</li>
<li>
<code>initial_phase</code> is the phase that all examinees are placed in the beginning of the assessment. This must be in the format <code>P?</code>, where <code><a href="https://rdrr.io/r/utils/Question.html">?</a></code> is a number.</li>
<li>
<code>initial_test</code> is the administration that all examinees are placed in the beginning of the assessment. This must be in the format <code>T?</code>, where <code><a href="https://rdrr.io/r/utils/Question.html">?</a></code> is a number.</li>
</ul>
</div>
<div id="load-module-specification-sheet" class="section level2">
<h2 class="hasAnchor">
<a href="#load-module-specification-sheet" class="anchor"></a>Load module specification sheet</h2>
<p>The next step is to load the module specification sheet using <code><a href="../reference/loadModules.html">loadModules()</a></code>. The <strong>maat</strong> package allows for using different item pools and constraints across different stages of testing. This requires a module specification sheet that contains which item pools and constraints are used for each grade and each phase. An example module specification sheet is displayed below:</p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
Grade
</th>
<th style="text-align:left;">
Phase
</th>
<th style="text-align:left;">
Module
</th>
<th style="text-align:left;">
Constraints
</th>
<th style="text-align:left;">
ItemPool
</th>
<th style="text-align:left;">
ItemAttrib
</th>
<th style="text-align:left;">
PassageAttrib
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
G3
</td>
<td style="text-align:left;">
P1
</td>
<td style="text-align:left;">
ModuleMATH3P1N
</td>
<td style="text-align:left;">
extdata/constraints_MATH3_P1.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade03.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade03.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G3
</td>
<td style="text-align:left;">
P2
</td>
<td style="text-align:left;">
ModuleMATH3P2N
</td>
<td style="text-align:left;">
extdata/constraints_MATH3_P2.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade03.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade03.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G4
</td>
<td style="text-align:left;">
P1
</td>
<td style="text-align:left;">
ModuleMATH4P1N
</td>
<td style="text-align:left;">
extdata/constraints_MATH4_P1.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade04.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade04.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G4
</td>
<td style="text-align:left;">
P2
</td>
<td style="text-align:left;">
ModuleMATH4P2N
</td>
<td style="text-align:left;">
extdata/constraints_MATH4_P2.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade04.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade04.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G5
</td>
<td style="text-align:left;">
P1
</td>
<td style="text-align:left;">
ModuleMATH5P1N
</td>
<td style="text-align:left;">
extdata/constraints_MATH5_P1.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade05.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade05.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G5
</td>
<td style="text-align:left;">
P2
</td>
<td style="text-align:left;">
ModuleMATH5P2N
</td>
<td style="text-align:left;">
extdata/constraints_MATH5_P2.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade05.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade05.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G6
</td>
<td style="text-align:left;">
P1
</td>
<td style="text-align:left;">
ModuleMATH6P1N
</td>
<td style="text-align:left;">
extdata/constraints_MATH6_P1.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade06.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade06.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G6
</td>
<td style="text-align:left;">
P2
</td>
<td style="text-align:left;">
ModuleMATH6P2N
</td>
<td style="text-align:left;">
extdata/constraints_MATH6_P2.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade06.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade06.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G7
</td>
<td style="text-align:left;">
P1
</td>
<td style="text-align:left;">
ModuleMATH7P1N
</td>
<td style="text-align:left;">
extdata/constraints_MATH7_P1.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade07.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade07.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G7
</td>
<td style="text-align:left;">
P2
</td>
<td style="text-align:left;">
ModuleMATH7P2N
</td>
<td style="text-align:left;">
extdata/constraints_MATH7_P2.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade07.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade07.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G8
</td>
<td style="text-align:left;">
P1
</td>
<td style="text-align:left;">
ModuleMATH8P1N
</td>
<td style="text-align:left;">
extdata/constraints_MATH8_P1.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade08.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade08.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
G8
</td>
<td style="text-align:left;">
P2
</td>
<td style="text-align:left;">
ModuleMATH8P2N
</td>
<td style="text-align:left;">
extdata/constraints_MATH8_P2.csv
</td>
<td style="text-align:left;">
extdata/pool_MATH_normal_N500_Grade08.csv
</td>
<td style="text-align:left;">
extdata/item_attrib_MATH_normal_N500_Grade08.csv
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>The sheet must have seven columns.</p>
<ol style="list-style-type: decimal">
<li>
<strong>Grade</strong> The grade level. This must be in the form of <code>G?</code>, where <code><a href="https://rdrr.io/r/utils/Question.html">?</a></code> is a number.</li>
<li>
<strong>Phase</strong> The phase level. This must be in the form of <code>P?</code>, where <code><a href="https://rdrr.io/r/utils/Question.html">?</a></code> is a number.</li>
<li>
<strong>Module</strong> The module ID string.</li>
<li>
<strong>Constraints</strong> The file path of constraints data. This must be readable by <code><a href="https://choi-phd.github.io/TestDesign/reference/loadConstraints.html">loadConstraints()</a></code> in <code>TestDesign</code> package.</li>
<li>
<strong>ItemPool</strong> The file path of item pool data. This must be readable by <code><a href="https://choi-phd.github.io/TestDesign/reference/loadItemPool.html">loadItemPool()</a></code> in <code>TestDesign</code> package.</li>
<li>
<strong>ItemAttrib</strong> The file path of item attributes data. This must be readable by <code><a href="https://choi-phd.github.io/TestDesign/reference/loadItemAttrib.html">loadItemAttrib()</a></code> in <code>TestDesign</code> package.</li>
<li>
<strong>PassageAttrib</strong> (Optional) The file path of passage attributes data. This must be readable by <code><a href="https://choi-phd.github.io/TestDesign/reference/loadStAttrib.html">loadStAttrib()</a></code> in <code>TestDesign</code> package.</li>
</ol>
<p>Load the module specification sheet using <code><a href="../reference/loadModules.html">loadModules()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"module_definition_MATH_normal_N500.csv"</span>, package <span class="op">=</span> <span class="st">"maat"</span><span class="op">)</span>
<span class="va">module_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadModules.html">loadModules</a></span><span class="op">(</span>
  fn <span class="op">=</span> <span class="va">fn</span>,
  assessment_structure <span class="op">=</span> <span class="va">assessment_structure</span>,
  examinee_list <span class="op">=</span> <span class="va">examinee_list</span>,
  base_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"maat"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<pre><code>## Required modules: 8
## Using base path: /private/var/folders/mn/2g6bpn7j1gvg8dmbfzxvpx780000gn/T/RtmpXO3Vj2/temp_libpath1e8e767c2e50/maat
## Loading 8 modules
## Grade G3 Phase P1 : Module ModuleMATH3P1N
## Grade G4 Phase P1 : Module ModuleMATH4P1N
## Grade G5 Phase P1 : Module ModuleMATH5P1N
## Grade G6 Phase P1 : Module ModuleMATH6P1N
## Grade G3 Phase P2 : Module ModuleMATH3P2N
## Grade G4 Phase P2 : Module ModuleMATH4P2N
## Grade G5 Phase P2 : Module ModuleMATH5P2N
## Grade G6 Phase P2 : Module ModuleMATH6P2N</code></pre>
<ul>
<li>
<code>fn</code>: The file path of the module specification sheet.</li>
<li>
<code>assessment_structure</code>: The assessment structure object created above using <code><a href="../reference/createAssessmentStructure.html">createAssessmentStructure()</a></code>. This is used to determine required modules.</li>
<li>
<code>examinee_list</code>: The examinee list object created above using <code><a href="../reference/simExaminees.html">simExaminees()</a></code>. This is used to determine required modules.</li>
<li>
<code>base_path</code>: The value of this argument is pasted to the beginning of file paths in the sheet. In the above example, if <code>base_path</code> is <code>inst</code> then the function will attempt to read <code>inst/extdata/constraints_MATH8_P2.csv</code>.</li>
</ul>
</div>
<div id="load-cut-scores" class="section level2">
<h2 class="hasAnchor">
<a href="#load-cut-scores" class="anchor"></a>Load cut scores</h2>
<p>Cut scores must be stored in a list object. For each grade, at least two cut scores must exist. When the number of cut scores for a single grade is more than two, only the first and the last entry is used. An example is given below:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cut_scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  G3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.47</span>, <span class="op">-</span><span class="fl">0.55</span>, <span class="fl">0.48</span><span class="op">)</span>,
  G4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.07</span>, <span class="op">-</span><span class="fl">0.15</span>, <span class="fl">0.88</span><span class="op">)</span>,
  G5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.67</span>,  <span class="fl">0.25</span>, <span class="fl">1.28</span><span class="op">)</span>,
  G6 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.27</span>,  <span class="fl">0.65</span>, <span class="fl">1.68</span><span class="op">)</span>,
  G7 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span> <span class="fl">0.13</span>,  <span class="fl">1.05</span>, <span class="fl">2.08</span><span class="op">)</span>,
  G8 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span> <span class="fl">0.53</span>,  <span class="fl">1.45</span>, <span class="fl">2.48</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="create-shared-config" class="section level2">
<h2 class="hasAnchor">
<a href="#create-shared-config" class="anchor"></a>Create shared config</h2>
<p>The next step is to create a config object using <code><a href="https://choi-phd.github.io/TestDesign/reference/createShadowTestConfig.html">createShadowTestConfig()</a></code> in the <code>TestDesign</code> package. The final theta estimation method in <code>final_theta$method</code> must be either <code>MLE</code> or <code>MLEF</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://choi-phd.github.io/TestDesign/">TestDesign</a></span><span class="op">)</span>
<span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://choi-phd.github.io/TestDesign/reference/createShadowTestConfig.html">createShadowTestConfig</a></span><span class="op">(</span>
  final_theta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"MLE"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="run-the-main-simulation" class="section level2">
<h2 class="hasAnchor">
<a href="#run-the-main-simulation" class="anchor"></a>Run the main simulation</h2>
<p>The final step is to run the main simulation using <code><a href="../reference/maat.html">maat()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">examinee_list_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/maat.html">maat</a></span><span class="op">(</span>
  examinee_list          <span class="op">=</span> <span class="va">examinee_list</span>,
  assessment_structure   <span class="op">=</span> <span class="va">assessment_structure</span>,
  module_list            <span class="op">=</span> <span class="va">module_list</span>,
  config                 <span class="op">=</span> <span class="va">config</span>,
  cut_scores             <span class="op">=</span> <span class="va">cut_scores</span>,
  overlap_control_policy <span class="op">=</span> <span class="st">"within_test"</span>,
  transition_policy      <span class="op">=</span> <span class="st">"on_grade"</span>,
  combine_policy         <span class="op">=</span> <span class="st">"conditional"</span>,
  transition_CI_alpha         <span class="op">=</span> <span class="fl">0.05</span>,
  transition_percentile_lower <span class="op">=</span> <span class="fl">0.05</span>,
  transition_percentile_upper <span class="op">=</span> <span class="fl">0.95</span>
<span class="op">)</span></code></pre></div>
<pre><code>## Loading required namespace: progress</code></pre>
<ul>
<li>
<code>examinee_list</code> is the examinee list object created above.</li>
<li>
<code>assessment_structure</code> is the assessment structure object created above.</li>
<li>
<code>module_list</code> is the module list object created above.</li>
<li>
<code>config</code> is the shared config object created above.</li>
<li>
<code>cut_scores</code> is the cut scores list object created above.</li>
<li>
<code>overlap_control_policy</code> specifies the type of overlap control.
<ul>
<li>
<code>all</code> performs overlap control across administrations. This forbids an item to be given more than once within each administration, and also forbids an item to be given more than once across administrations.</li>
<li>
<code>within_test</code> performs overlap control within each administration. This forbids an item to be given more than once within each administration, but this still allows an item to be given more than once across administrations.</li>
<li>
<code>none</code> does not perform overlap control. This allows an item to be given more than once within each administration, and also allows an item to be given more than once across administrations.</li>
</ul>
</li>
<li>
<code>transition_policy</code> specifies the type of grade transition policy.
<ul>
<li>
<code>CI</code> uses confidence interval to perform routing between grades.</li>
<li>
<code>pool_difficulty_percentile</code> uses item difficulty percentiles of all items in the current item pool to perform routing.</li>
<li>
<code>pool_difficulty_percentile_exclude_administered</code> uses item difficulty percentiles of all items in the current item pool, excluding items administered to the examinee, to perform routing.</li>
<li>
<code>on_grade</code> makes all examinees to remain in the grade of record.</li>
</ul>
</li>
<li>
<code>combine_policy</code> specifies which type of theta is used to perform routing. This is only utilized at the end of each administration.
<ul>
<li>
<code>conditional</code> uses the combined theta estimate (obtained from combining Phase 1 and Phase 2 responses) as the routing theta, if the examinee was in the same grade in Phase 1 and Phase 2. If the examinee was in different grades in Phase 1 and 2, then Phase 2 estimate is used as the routing theta.</li>
<li>
<code>always</code> uses the combined theta estimate as the routing theta.</li>
<li>
<code>never</code> uses the Phase 2 estimate as the routing theta.</li>
</ul>
</li>
<li>
<code>transition_CI_alpha</code> is the alpha level to use in CI-based transition policy.</li>
<li>
<code>transition_percentile_lower</code> is the percentile value to use in difficulty-percentile-based transition policy.</li>
<li>
<code>transition_percentile_upper</code> is the percentile value to use in difficulty-percentile-based transition policy.</li>
</ul>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-choi_ensuring_2018" class="csl-entry">
Choi, S. W., &amp; van der Linden, W. J. (2018). Ensuring content validity of patient-reported outcomes: A shadow-test approach to their adaptive measurement. <em>Quality of Life Research</em>, <em>27</em>(7), 1683–1693. <a href="https://doi.org/10.1007/s11136-017-1650-1">https://doi.org/10.1007/s11136-017-1650-1</a>
</div>
<div id="ref-eggen_computerized_2000" class="csl-entry">
Eggen, T. J. H. M., &amp; Straetmans, G. J. J. M. (2000). Computerized adaptive testing for classifying examinees into three categories. <em>Educational and Psychological Measurement</em>, <em>60</em>(5), 713–734. <a href="https://doi.org/10.1177/00131640021970862">https://doi.org/10.1177/00131640021970862</a>
</div>
<div id="ref-kingsbury_comparison_1983" class="csl-entry">
Kingsbury, G. G., &amp; Weiss, D. J. (1983). A comparison of <span>IRT</span>-based adaptive mastery testing and a sequential mastery testing procedure. In D. J. Weiss (Ed.), <em>New horizons in testing</em> (pp. 257–283). Academic Press. <a href="https://doi.org/10.1016/B978-0-12-742780-5.50024-X">https://doi.org/10.1016/B978-0-12-742780-5.50024-X</a>
</div>
<div id="ref-revuelta_comparison_1998" class="csl-entry">
Revuelta, J., &amp; Ponsoda, V. (1998). A comparison of item exposure control methods in computerized adaptive testing. <em>Journal of Educational Measurement</em>, <em>35</em>(4), 311–327. <a href="https://doi.org/10.1111/j.1745-3984.1998.tb00541.x">https://doi.org/10.1111/j.1745-3984.1998.tb00541.x</a>
</div>
<div id="ref-thompson_practitioners_2007" class="csl-entry">
Thompson, N. (2007). A practitioner’s guide for variable-length computerized classification testing. <em>Practical Assessment, Research, and Evaluation</em>, <em>12</em>(1). https://doi.org/<a href="https://doi.org/10.7275/fq3r-zz60">https://doi.org/10.7275/fq3r-zz60</a>
</div>
<div id="ref-van_der_linden_linear_2005" class="csl-entry">
van der Linden, W. J. (2005). <em>Linear models for optimal test design</em>. Springer.
</div>
<div id="ref-van_der_linden_improving_2019" class="csl-entry">
van der Linden, W. J., &amp; Choi, S. W. (2019). Improving item-exposure control in adaptive testing. <em>Journal of Educational Measurement</em>. <a href="https://doi.org/10.1111/jedm.12254">https://doi.org/10.1111/jedm.12254</a>
</div>
<div id="ref-van_der_linden_model_1998" class="csl-entry">
van der Linden, W. J., &amp; Reese, L. M. (1998). A model for optimal constrained adaptive testing. <em>Applied Psychological Measurement</em>, <em>22</em>(3), 259–270.
</div>
<div id="ref-yang_effects_2006" class="csl-entry">
Yang, X., Poggio, J. C., &amp; Glasnapp, D. R. (2006). Effects of estimation bias on multiple-category classification with an <span>IRT</span>-based adaptive classification procedure. <em>Educational and Psychological Measurement</em>, <em>66</em>(4), 545–564. <a href="https://doi.org/10.1177/0013164405284031">https://doi.org/10.1177/0013164405284031</a>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Seung W. Choi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
